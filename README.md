# О модуле
Модуль добавляет интегранию с платежной системой PayU.
Модуль совместим с версиями OpenCart 2.3 и старше

## Установка модуля
Установка модуля может быть выполнена двумя способами

### Автоматическая установка
1. Скачайте архив с модулем ```payu.ocmod.zip```
2. В адм. части сайта перейдите в меню ```Дополнения / Установка дополнений (Excensions/Excension Installer)```
3. В открывшуюся форму загрузите ранее скачанный архив
4. Перейдите в меню ```Дополнения / Оплата (Extensions / Payments)```
5. В списке вариантов оплаты выберите ```PayU```, нажмите на кнопку ```Установить```, затем на кнопку ```Изменить```
6. Настройте модуль (см. ниже)

### Ручная установка модуля
1. Скачайте архив с модулем
2. Расспакуйте архив и загрузите файлы из папки ```upload``` в корневую директорию вашего сайта, например ```public_html```
4. Перейдите в меню ```Дополнения / Оплата (Extensions / Payments)```
5. В списке вариантов оплаты выберите ```PayU```, нажмите на кнопку ```Установить```, затем на кнопку ```Изменить```
6. Настройте модуль

## Настройка модуля
Для настройки модуля Вам необходимо будет заполнить следующие поля
* ```Merchant ID```. Код продавца (идентификатор мерчанта).
* ```Secret key```. Секретный Ключ.

```Merchant ID``` и ```Secret key``` можно узнать в личном кабинете PayU на странице редактирования профиля в разделе ```Немедленное уведомление об оплате```

* ```Режим отладки (Debug mode)```. Включить или выключить режим отладки. При включенном режиме отладки фактическая оплата заказов не производиться!
* ```Ссылка (Live Update) Link for Live Update```. Для российских и украинских мерчантов это поле заполнять не нужно.
* ```Ссылка возврата клиента (Back refference)```. Ссылка на страницу на которую будет возвращен пользователь после оплаты. Если это поле оставить пустым, пользователь останется в системе PayU
* ```Валюта мерчанта (Currency)```. Валюта платежа. Допустимые значения: RUB, EUR, USD. Если параметр не задан, значение по умолчанию: RUB.
* ```Процент НДС (VAT)```. НДС для каждого продукта в рамках заказа. 0 - НДС не облагается.
* ```НДС включен в сумму заказа (VAT included in order amount)```. Значение ***Да*** означает, что передаваемая сумма заказа в PayU окончательная, в противном случае к стоимости заказа будет добавленна сумма НДС
* ```Язык страницы оплаты (Payment page language)```. Позволяет задавать определенный язык платежного интерфейса. Возможные значения:
	* RO - румынский
	* EN - английский
	* HU - венгерский
	* RU - русский
	* DE - немецкий
	* FR - французский
	* IT - итальянский
	* ES - испанский
* ```Статус (Status)```. Текущий статус модуля. Переведите статус в "Включен", чтобы платежная система появилась на странице оформления заказа.
* ```Порядок сортировки (Ordering)```. Для управления порядком в списке платежных систем используйте это поле.

## IPN
Для настройки IPN Вам необходимо в настройках аккаунта PayU в разделе ```Уведомления IPN``` выбрать значение ***IPN (Instant Payment Notification)***.
Далее перейдя на страницу ```Настройки IPN``` в поле ```URL``` указать ссылку для IPN: ***http://{домен сайта}/index.php?route=extension/payment/payu/callback***.
Полный адрес ссылки можно посмотреть в настройках модуля в полу ```IPN URL```.
